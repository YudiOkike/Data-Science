"0","# Calculate index for 80/20 train-test split"
"0","n <- length(ts_y)"
"0","split_idx <- floor(0.8 * n)"
"0",""
"0","# Create training and test sets for dependent and exogenous variables"
"0","train_y <- window(ts_y, end = time(ts_y)[split_idx])"
"0","train_x <- window(ts_x, end = time(ts_x)[split_idx])"
"0","test_y <- window(ts_y, start = time(ts_y)[split_idx + 1])"
"0","test_x <- window(ts_x, start = time(ts_x)[split_idx + 1])"
"0",""
"0","# Fit manual SARIMAX model with Brent price as exogenous variable"
"0","manual_sarimax_brent <- Arima(train_y,"
"0","                              order = c(1,1,1),"
"0","                              seasonal = list(order = c(1,1,1), period = 52),"
"0","                              xreg = train_x)"
"0",""
"0","# Fit auto SARIMAX model with automatic order selection"
"0","auto_sarimax_brent <- auto.arima(train_y, seasonal = TRUE, xreg = train_x)"
"0",""
"0","# Display model summaries"
"0","summary(manual_sarimax_brent)"
"1","Series:"
"1"," "
"1","train_y"
"1"," "
"1","
"
"1","Regression with ARIMA(1,1,1)(1,1,1)[52] errors"
"1"," "
"1","
"
"1","
Coefficients:
"
"1","    "
"1","     ar1"
"1","     ma1"
"1","     sar1"
"1","     sma1"
"1","    xreg"
"1","
    "
"1","  0.7193"
"1","  0.1302"
"1","  -0.5891"
"1","  -0.3031"
"1","  0.0084"
"1","
s.e."
"1","  0.0789"
"1","  0.1092"
"1","   0.1799"
"1","   0.3402"
"1","  0.0206"
"1","
"
"1","
sigma^2 = "
"1",""
"1","1.657"
"1",":  log likelihood = "
"1",""
"1","-217.03"
"1","
"
"1","AIC="
"1",""
"1","446.06"
"1","   AICc="
"1",""
"1","446.81"
"1","   BIC="
"1",""
"1","462.68"
"1",""
"1","
"
"1","
Training set error measures:
"
"1","            "
"1","          ME"
"1","     RMSE"
"1","       MAE"
"1","         MPE"
"1","      MAPE"
"1","       MASE"
"1","         ACF1"
"1","
Training set"
"1"," -0.09392642"
"1"," 1.046344"
"1"," 0.5856668"
"1"," -0.07686945"
"1"," 0.5644673"
"1"," 0.02349218"
"1"," 3.673761e-05"
"1","
"
"0","summary(auto_sarimax_brent)"
"1","Series:"
"1"," "
"1","train_y"
"1"," "
"1","
"
"1","Regression with ARIMA(2,1,2)(1,0,0)[52] errors"
"1"," "
"1","
"
"1","
Coefficients:
"
"1","    "
"1","     ar1"
"1","     ar2"
"1","    ma1"
"1","     ma2"
"1","     sar1"
"1","    drift"
"1","    xreg"
"1","
    "
"1","  0.0835"
"1","  0.3758"
"1","  0.829"
"1","  0.2940"
"1","  -0.5450"
"1","  -0.0291"
"1","  0.0167"
"1","
s.e."
"1","  0.1872"
"1","  0.1389"
"1","  0.195"
"1","  0.1177"
"1","   0.0652"
"1","   0.1887"
"1","  0.0107"
"1","
"
"1","
sigma^2 = "
"1",""
"1","0.7893"
"1",":  log likelihood = "
"1",""
"1","-227.25"
"1","
"
"1","AIC="
"1",""
"1","470.49"
"1","   AICc="
"1",""
"1","471.39"
"1","   BIC="
"1",""
"1","495.58"
"1",""
"1","
"
"1","
Training set error measures:
"
"1","            "
"1","         ME"
"1","      RMSE"
"1","       MAE"
"1","         MPE"
"1","     MAPE"
"1","       MASE"
"1","        ACF1"
"1","
Training set"
"1"," 0.01273788"
"1"," 0.8674032"
"1"," 0.5623333"
"1"," 0.009144395"
"1"," 0.504403"
"1"," 0.02255623"
"1"," -0.01307031"
"1","
"
